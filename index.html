<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PowerGridX Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f8fb;
      margin: 0;
    }
    /* Header */
    .header-logo-text {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin: 2.2rem 0 1.2rem 0;
      width: 100%;
      text-align: center;
    }
    .logo-tight {
      height: 56px;
      width: 56px;
      min-width: 56px;
      object-fit: contain;
      display: block;
      border-radius: 0;
      box-shadow: none;
      margin-right: 0.1rem;
    }
    .brand-text {
      font-size: 2rem;
      font-weight: bold;
      font-family: Arial, sans-serif;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
    }
    .brand-blue { color: #044080; }
    .brand-orange { color: #fa4616; }
    /* Stylish Menu */
    .nav-menu {
      display: flex;
      justify-content: center;
      gap: 1.2rem;
      padding: 0.7rem 0 1.6rem;
      flex-wrap: wrap;
    }
    .nav-menu a {
      color: #044080;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.04rem;
      padding: 8px 20px;
      border-radius: 25px;
      background: #fff;
      box-shadow: 0 2px 14px #04408011;
      transition: background .13s, color .13s;
      margin-bottom: 10px;
      border: none;
    }
    .nav-menu a.active,
    .nav-menu a:hover {
      background: #fa4616;
      color: #fff;
    }
    /* Section styles */
    .section {
      display: none;
      padding: 2.2rem 1.4rem 2.2rem 1.4rem;
      max-width: 650px;
      margin: 0 auto 2.5rem auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 20px #04408012;
      min-height: 180px;
      animation: fadein .22s;
    }
    @keyframes fadein {
      0% { opacity: 0; transform: translateY(30px);}
      100% { opacity:1; transform: none;}
    }
    .section.active { display: block; }
    h2 { color: #044080; margin-top:0; }
    .arch-img, .ui-preview-img {
      width: 220px;
      max-width:98%;
      border-radius: 14px;
      box-shadow: 0 2px 12px #0002;
      margin: 1.1rem auto 0 auto;
      background:#f4f8fb;
      display:block;
    }
    .section ul { margin-left:1rem; color:#34495e;}
    .repo-link-btn {
      display: inline-block;
      background: #044080;
      color: #fff !important;
      padding: 8px 18px;
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
      margin: 18px auto 0 auto;
      text-decoration: none;
      box-shadow: 0 1px 8px #04408022;
      transition: background 0.2s;
    }
    .repo-link-btn:hover { background: #fa4616; }
    .proof-badge { display:inline-block; background:#fa4616; color:#fff; font-weight:bold; font-size:1em; border-radius:7px; padding:5px 15px; margin-bottom:11px;}
    .typeform-thumb { width:180px; border-radius:10px; box-shadow:0 1px 10px #0001; margin:8px 0 0 0;}
    .team-section {display:flex;align-items:center;gap:16px;margin-top:16px;}
    .team-photo {width:58px;height:58px;border-radius:50%;background:#eee;}
    .faq-q {font-weight:bold;margin-top:10px;}
    @media (max-width: 800px) {
      .section {max-width:98vw;padding:6vw 2vw;}
      .nav-menu {gap:0.4rem;}
      .arch-img, .ui-preview-img {width:95vw;max-width:99%;}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <div class="header-logo-text">
    <img src="https://raw.githubusercontent.com/mensahsandra/PowerGridX-demo/main/assets/images/PGX_Logo.png" alt="PowerGridX Logo" class="logo-tight">
    <span class="brand-text">
      <span class="brand-blue">PowerGrid</span><span class="brand-orange">X</span>
    </span>
  </div>
  <!-- Stylish Navigation Menu -->
  <nav class="nav-menu">
    <a href="#" data-section="meter" class="active">Smart Meter</a>
    <a href="#" data-section="poles">Smart Poles</a>
    <a href="#" data-section="simulator">Simulator</a>
    <a href="#" data-section="userappui">User App UI</a>
    <a href="#" data-section="pgxarch">PGX Architecture</a>
    <a href="#" data-section="psnarch">PSN Architecture</a>
    <a href="#" data-section="blockchain">Blockchain</a>
    <a href="#" data-section="impact">Impact</a>
    <a href="#" data-section="proofs">Proof of Intent</a>
    <a href="#" data-section="about">About/FAQ</a>
  </nav>
  <!-- Sections -->
  <div id="section-meter" class="section active">
    <h2>Tamper-Resistant Smart Meter</h2>
    <ul>
      <li>Embedded tamper sensors</li>
      <li>Transformer-authenticated pairing</li>
      <li>LoRaWAN/Satellite connectivity</li>
      <li>Secure top-up via USSD/app</li>
      <li>Real-time monitoring to blockchain</li>
    </ul>
    <img src="https://raw.githubusercontent.com/mensahsandra/PowerGridX-demo/main/assets/images/smart_meter_sketch.png" alt="Smart Meter Sketch" class="arch-img">
  </div>
  <div id="section-poles" class="section">
    <h2>Smart Poles</h2>
    <ul>
      <li>Solar + battery backup</li>
      <li>Dual LED lighting</li>
      <li>LoRa base node placement</li>
      <li>Camera and Wi-Fi support</li>
      <li>Optional mosquito-repelling tech</li>
    </ul>
    <img src="https://raw.githubusercontent.com/mensahsandra/PowerGridX-demo/main/assets/images/smart_pole_sketch.png" alt="Smart Pole Sketch" class="arch-img">
  </div>
  <div id="section-simulator" class="section">
    <h2>Simulator Smart Meter</h2>
    <div id="simulator-content"></div>
  </div>
  <div id="section-userappui" class="section">
    <h2>User App Interface</h2>
    <div style="display:flex;flex-direction:column;gap:18px;max-height:55vh;overflow-y:auto;">
      <div style="text-align:center;">
        <img src="assets/ui-login.png" alt="Login Screen" class="ui-preview-img">
        <div style="font-size:.97em;color:#044080;margin-top:5px;">Login Screen</div>
      </div>
      <div style="text-align:center;">
        <img src="assets/ui-signup.png" alt="Sign Up Screen" class="ui-preview-img">
        <div style="font-size:.97em;color:#044080;margin-top:5px;">Sign Up Screen</div>
      </div>
      <div style="text-align:center;">
        <img src="assets/ui-dashboard.png" alt="Dashboard" class="ui-preview-img">
        <div style="font-size:.97em;color:#044080;margin-top:5px;">Dashboard</div>
      </div>
      <div style="text-align:center;">
        <img src="assets/ui-buy.png" alt="Buy/Top Up" class="ui-preview-img">
        <div style="font-size:.97em;color:#044080;margin-top:5px;">Buy / Top Up</div>
      </div>
      <div style="text-align:center;">
        <img src="assets/ui-blockchain.png" alt="Blockchain Proof" class="ui-preview-img">
        <div style="font-size:.97em;color:#044080;margin-top:5px;">Blockchain Proof</div>
      </div>
    </div>
    <div style="margin-top:13px;font-size:.94em;color:#444;text-align:center;">
      <i>All UI images are actual designs/mockups of the PGX user app.</i>
    </div>
    <div id="section-userappui" class="section">
  <h2>User App Interface</h2>
  <div id="user-app-ui-demo"></div>
</div>
    <div style="text-align:center;margin-top:16px;">
      <a href="https://mensahsandra.github.io/PowerGridX-demo/pgx-ui-flow.html" target="_blank" class="repo-link-btn">
        ðŸ”— View Live App/Design Repository
      </a>
    </div>
  </div>
  <div id="section-dashboard" class="section">
    <h2>User Dashboard Simulator</h2>
    <div id="pgx-dashboard"></div>
  </div>
  <div id="section-pgxarch" class="section">
    <h2>PGX System Architecture</h2>
    <p>The full PowerGridX system integrates smart meters, smart poles, PSNs, cloud backend, and blockchain. Data is securely relayed from meters and poles to the cloud and immutable blockchain, enabling real-time monitoring and secure top-up.</p>
    <img src="https://raw.githubusercontent.com/mensahsandra/PowerGridX-demo/main/assets/images/PowerGridX_Architecture.svg" alt="PGX Architecture" class="arch-img">
  </div>
  <div id="section-psnarch" class="section">
    <h2>PSN Architecture</h2>
    <p>Passive Smart Nodes (PSNs) are small solar powered nodes installed on existing poles and power lines. It monitors voltage, current and line activity in real time. Sends data via LoRa to cloud.</p>
    <img src="https://raw.githubusercontent.com/mensahsandra/PowerGridX-demo/main/assets/images/PGX_PSN.svg" alt="PSN Architecture" class="arch-img">
  </div>
  <div id="section-blockchain" class="section">
    <h2>Blockchain</h2>
    <p>Every top-up or meter event is anchored on blockchain for transparency and auditability. This prevents tampering, ensures trust, and gives users proof of every transaction.</p>
    <div style="margin:1.2em auto;text-align:center;">
      <img src="assets/ui-blockchain.png" alt="Blockchain Proof" class="ui-preview-img">
      <div style="font-size:.97em;color:#044080;margin-top:5px;">Sample Blockchain Receipt</div>
    </div>
    <div style="margin-top:10px;text-align:center;">
      <a href="https://github.com/mensahsandra/pgx-app" target="_blank" class="repo-link-btn">View Blockchain Code/Integration</a>
    </div>
  </div>
  <div id="section-impact" class="section">
    <h2>Benefits & Impact</h2>
    <ul>
      <li>Theft reduction potential</li>
      <li>Transparent billing</li>
      <li>Reduced outages via faster alerts</li>
      <li>Employment for trained contractors</li>
      <li>Better service in rural areas</li>
    </ul>
  </div>
  <div id="section-proofs" class="section">
    <h2>Proof of Intent</h2>
    <div class="proof-badge">Proofs are being received via Typeform</div>
    <p>Real users, contractors, and partners are submitting their intent to participate in PGX pilots via Typeform.</p>
    <img src="assets/typeform-thumb.png" alt="Typeform Responses Screenshot" class="typeform-thumb">
    <div style="text-align:center;margin-top:13px;">
      <a href="https://form.typeform.com/report/fp9OeJsI/ywAzf1v7Ll7VLuvH" target="_blank" class="repo-link-btn">View Typeform (private)</a>
    </div>
  </div>
  <div id="section-about" class="section">
    <h2>About / FAQ</h2>
    <div class="team-section">
      <img src="assets/your-photo.jpg" alt="Your Photo" class="team-photo">
      <div>
        <div><b>Sandra Mensah</b></div>
        <div>Founder & Engineer</div>
        <div style="font-size:.97em;color:#555;">Built solo so far, no technical cofounder yet.<br>Passionate about energy access in Africa.</div>
      </div>
    </div>
    <div class="faq-q">What is PowerGridX?</div>
    <div>A next-generation grid monitoring and anti-tamper metering platform, built for Africa.</div>
    <div class="faq-q">How is it different?</div>
    <div>Combines secure hardware, blockchain, and low-cost IoT for rural/urban grid reliability.</div>
    <div class="faq-q">Whatâ€™s next?</div>
    <div>Physical prototype, field pilot, more partnerships. Contact me to join or support!</div>
  </div>
  <!-- JS for navigation and simulators -->
  <script>
    // Navigation logic
    document.querySelectorAll('.nav-menu a').forEach(link => {
      link.onclick = function(e) {
        e.preventDefault();
        // Remove active from all
        document.querySelectorAll('.nav-menu a').forEach(l=>l.classList.remove('active'));
        document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
        // Add active to selected
        this.classList.add('active');
        document.getElementById('section-' + this.dataset.section).classList.add('active');
        // If simulator or dashboard, render content live:
        if(this.dataset.section === "simulator") renderSimulator();
        if(this.dataset.section === "dashboard") renderPGXDashboard(user);
        window.scrollTo({top:0,behavior:"smooth"});
      };
    });
    // Simulator Smart Meter
    function renderSimulator() {
      const devices = [
        { name: "Bulb", voltage: 60, isOn: true },
        { name: "Fan", voltage: 75, isOn: false },
        { name: "TV", voltage: 120, isOn: false },
        { name: "Fridge", voltage: 200, isOn: false }
      ];
      let log = [];
      const root = document.getElementById('simulator-content');
      root.innerHTML = '';
      function redraw() {
        const total = devices.filter(d => d.isOn).reduce((sum, d) => sum + d.voltage, 0);
        root.innerHTML = `
          <table style="width:100%;margin-bottom:1em;">
            <thead>
              <tr>
                <th>Device</th>
                <th>Voltage (W)</th>
                <th>On/Off</th>
              </tr>
            </thead>
            <tbody>
              ${devices.map((d, i) => `
                <tr>
                  <td>${d.name}</td>
                  <td>${d.voltage}</td>
                  <td><input type="checkbox" id="cb${i}" ${d.isOn?'checked':''}></td>
                </tr>
              `).join('')}
            </tbody>
          </table>
          <div style="margin-bottom:12px;">
            <b>Total Voltage Used:</b> <span id="total">${total}</span> W
          </div>
          <button id="simSend" style="background:#fa4616;color:#fff;border:none;
            border-radius:6px;padding:8px 18px;font-weight:bold;cursor:pointer;">
            Send Reading (LoRa + Cloud)
          </button>
          <div style="margin-top:18px;font-size:12px;color:#333;">
            <b>Transmission Log:</b>
            <pre style="background:#f4f8fb;padding:8px;border-radius:6px;
            max-height:140px;overflow-y:auto;" id="simLog">${log.join('\n\n')}</pre>
          </div>
        `;
        devices.forEach((d, i) => {
          document.getElementById('cb'+i).onchange = () => {
            d.isOn = !d.isOn;
            redraw();
          };
        });
        document.getElementById('simSend').onclick = () => {
          const timestamp = new Date().toISOString();
          const active = devices.filter(d => d.isOn);
          const payload = {
            meterId: "SIM-001",
            timestamp,
            devices: active.map(d => ({ name: d.name, voltage: d.voltage })),
            totalVoltage: active.reduce((s, d) => s+d.voltage, 0),
            sentVia: ["LoRa", "Cloud"]
          };
          log.unshift("Sent: " + JSON.stringify(payload, null, 2));
          if (log.length > 8) log = log.slice(0,8);
          redraw();
        };
      }
      redraw();
    }
    // User Dashboard Simulator
  </script>
  <script>
// Demo users for login/signup
const DEMO_USERS = [
  { username: "user1", password: "pass1" },
  { username: "user2", password: "pass2" }
];
let currentUser = null;

// Render function to show a page
function renderUserAppUI(page) {
  const root = document.getElementById('user-app-ui-demo');
  if(page === "login") {
    root.innerHTML = `
      <div class="centered-box" style="max-width:340px;margin:30px auto;">
        <div class="login-title">Sign In</div>
        <form id="login-form" autocomplete="off">
          <label for="user">Username</label>
          <input type="text" id="user" autocomplete="username" required>
          <label for="pass">Password</label>
          <input type="password" id="pass" autocomplete="current-password" required>
          <button type="submit" class="login-btn">Login</button>
          <div class="login-error" id="login-error"></div>
        </form>
        <div style="margin-top:1em;font-size:.98em;">
          <a href="#" id="go-signup">No account? Sign up</a>
        </div>
      </div>
    `;
    document.getElementById('login-form').onsubmit = function(e) {
      e.preventDefault();
      const user = document.getElementById('user').value.trim();
      const pass = document.getElementById('pass').value;
      const found = DEMO_USERS.find(u => u.username === user && u.password === pass);
      if(found) {
        currentUser = found;
        renderUserAppUI("dashboard");
      } else {
        document.getElementById('login-error').innerText = "Invalid username or password.";
      }
    };
    document.getElementById('go-signup').onclick = function(e) {
      e.preventDefault();
      renderUserAppUI("signup");
    };
  }
  else if(page === "signup") {
    root.innerHTML = `
      <div class="centered-box" style="max-width:340px;margin:30px auto;">
        <div class="login-title">Sign Up</div>
        <form id="signup-form" autocomplete="off">
          <label for="newuser">Username</label>
          <input type="text" id="newuser" required>
          <label for="newpass">Password</label>
          <input type="password" id="newpass" required>
          <button type="submit" class="login-btn">Create Account</button>
          <div class="login-error" id="signup-error"></div>
        </form>
        <div style="margin-top:1em;font-size:.98em;">
          <a href="#" id="go-login">Already have an account? Login</a>
        </div>
      </div>
    `;
    document.getElementById('signup-form').onsubmit = function(e) {
      e.preventDefault();
      const newuser = document.getElementById('newuser').value.trim();
      const newpass = document.getElementById('newpass').value;
      if(!newuser || !newpass) {
        document.getElementById('signup-error').innerText = "All fields required.";
        return;
      }
      if(DEMO_USERS.find(u => u.username === newuser)) {
        document.getElementById('signup-error').innerText = "Username already exists.";
        return;
      }
      DEMO_USERS.push({ username: newuser, password: newpass });
      currentUser = { username: newuser, password: newpass };
      renderUserAppUI("dashboard");
    };
    document.getElementById('go-login').onclick = function(e) {
      e.preventDefault();
      renderUserAppUI("login");
    };
  }
  else if(page === "dashboard") {
    root.innerHTML = `
      <div class="centered-box" style="max-width:420px;margin:30px auto;">
        <div class="login-title">Dashboard</div>
        <div style="margin:1.2em 0;font-size:1.1em;">
          Welcome, <b>${currentUser ? currentUser.username : 'User'}</b>!
        </div>
        <div style="margin-bottom:1.8em;">
          <button class="login-btn" id="goto-topup" style="width:80%;">Top Up</button>
        </div>
        <button class="login-btn" id="logout-btn" style="background:#044080;width:80%;">Log Out</button>
      </div>
    `;
    document.getElementById('goto-topup').onclick = function() {
      renderUserAppUI("topup");
    };
    document.getElementById('logout-btn').onclick = function() {
      currentUser = null;
      renderUserAppUI("login");
    };
  }
  else if(page === "topup") {
    root.innerHTML = `
      <div class="centered-box" style="max-width:340px;margin:30px auto;">
        <div class="login-title">Top Up</div>
        <form id="topup-form" autocomplete="off">
          <label for="amount">Amount (GHS)</label>
          <input type="number" id="amount" min="1" required>
          <button type="submit" class="login-btn">Pay</button>
          <div class="login-error" id="topup-error"></div>
        </form>
        <div style="margin-top:1em;">
          <a href="#" id="back-dashboard">Back to Dashboard</a>
        </div>
      </div>
    `;
    document.getElementById('topup-form').onsubmit = function(e) {
      e.preventDefault();
      const amt = document.getElementById('amount').value;
      if(amt < 1) {
        document.getElementById('topup-error').innerText = "Please enter a valid amount.";
        return;
      }
      // For demo, just show a "success"
      root.innerHTML = `
        <div class="centered-box" style="max-width:340px;margin:30px auto;">
          <div class="login-title">Top Up Successful</div>
          <div style="margin:1.2em 0;font-size:1.05em;">Thank you, <b>${currentUser ? currentUser.username : 'User'}</b>.<br>
          Your account has been topped up with <b>GHS ${amt}</b>.</div>
          <button class="login-btn" id="back-to-dash" style="width:80%;">Back to Dashboard</button>
        </div>
      `;
      document.getElementById('back-to-dash').onclick = function() {
        renderUserAppUI("dashboard");
      };
    };
    document.getElementById('back-dashboard').onclick = function(e) {
      e.preventDefault();
      renderUserAppUI("dashboard");
    };
  }
}

// Always render login by default when User App UI is shown
document.querySelector('[data-section="userappui"]').addEventListener('click', function() {
  renderUserAppUI("login");
});

// Optionally, render login when page loads if User App UI is initially visible
if(document.getElementById('section-userappui').classList.contains('active')) {
  renderUserAppUI("login");
}
</script>
</body>
</html>